<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>График монеты</title>
    <script src="https://s3.tradingview.com/tv.js"></script>
</head>
<body>
    <h2 id="coin-title">Загрузка...</h2>
    <div id="tradingview"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const params = new URLSearchParams(window.location.search);
            const symbol = params.get('symbol');

            if (symbol) {
                document.getElementById('coin-title').textContent = `График ${symbol}`;
                
                new TradingView.widget({
                    "container_id": "tradingview",
                    "symbol": `BINANCE:${symbol}`,
                    "interval": "30",
                    "theme": "light",
                    "style": "1",
                    "locale": "ru",
                    "toolbar_bg": "#f1f3f6",
                    "enable_publishing": false,
                    "hide_side_toolbar": false,
                    "allow_symbol_change": false,
                    "autosize": true
                });
            } else {
                document.getElementById('coin-title').textContent = "Ошибка загрузки данных.";
            }
        });
    </script>
</body>
</html>
