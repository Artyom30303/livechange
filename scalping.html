<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pussy Destroyer 2.0 - AI Crypto Scalper</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        #tradingview {
            width: 50%;
            height: 500px;
            float: left;
        }
        #signals {
            width: 45%;
            float: right;
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 10px;
        }
        nav {
            background: #6a0dad;
            padding: 10px;
        }
        nav a {
            color: white;
            text-decoration: none;
            margin: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <nav>
        <a href="index.html">–î–∞—à–±–æ—Ä–¥</a>
        <a href="scalping.html">–°–∫–∞–ª—å–ø–∏–Ω–≥</a>
        <a href="intraday.html">–ò–Ω—Ç—Ä–∞–¥–µ–π</a>
        <a href="swing.html">–°–≤–∏–Ω–≥-—Ç—Ä–µ–π–¥–∏–Ω–≥</a>
        <a href="position.html">–ü–æ–∑–∏—Ü–∏–æ–Ω–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</a>
        <a href="spot.html">–°–ø–æ—Ç</a>
    </nav>

    <h2 id="crypto-title">–°–∫–∞–ª—å–ø–∏–Ω–≥</h2>
    <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ –º–æ–Ω–µ—Ç—ã...">
    <select id="coin-selector"></select>
    <div id="tradingview"></div>

    <div id="signals">
        <h3>üî• Pump & Dump Club</h3>
        <div id="analysis-content">‚è≥ –ñ–¥–µ–º –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞...</div>
    </div>

    <div id="journal">üìñ –ñ—É—Ä–Ω–∞–ª —Ç—Ä–µ–π–¥–µ—Ä–∞</div>

    <script>
        function formatNumber(num) {
            return new Intl.NumberFormat('ru-RU', { maximumFractionDigits: 2 }).format(num);
        }

        document.addEventListener("DOMContentLoaded", function () {
            const urlParams = new URLSearchParams(window.location.search);
            let symbol = urlParams.get("symbol") || "BTCUSDT";
            document.getElementById("crypto-title").textContent = `–°–∫–∞–ª—å–ø–∏–Ω–≥: ${symbol}`;

            new TradingView.widget({
                "container_id": "tradingview",
                "symbol": `BINANCE:${symbol}`,
                "interval": "30",
                "theme": "light",
                "style": "1",
                "locale": "ru",
                "toolbar_bg": "#f1f3f6",
                "enable_publishing": false,
                "hide_side_toolbar": false,
                "allow_symbol_change": true,
                "autosize": true
            });

            analyzeMarket(symbol);
        });

        function analyzeMarket(symbol) {
            fetch(`https://fapi.binance.com/fapi/v1/klines?symbol=${symbol}&interval=30m&limit=50`)
                .then(res => res.json())
                .then(candles => {
                    let prices = candles.map(c => parseFloat(c[4]));
                    let high = Math.max(...prices);
                    let low = Math.min(...prices);
                    let lastPrice = prices[prices.length - 1];

                    let resistance = high * 0.99;
                    let support = low * 1.01;

                    let pattern = detectPattern(prices);
                    let signal = "‚ùå –ü–æ–∫–∞ –∂–¥–µ–º, –ø—É—Å—Ç—å —Ä–∏—Å—É–µ—Ç —Å–µ—Ç–∞–ø.";
                    let entry = null, stopLoss = null, takeProfit1 = null, takeProfit2 = null, takeProfit3 = null;

                    if (pattern) {
                        if (pattern === "–§–ª–∞–≥") {
                            signal = "üöÄ –§–ª–∞–≥ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è, –≥–æ—Ç–æ–≤–∏–º—Å—è –Ω–∞ –ø—Ä–æ–±–æ–π –≤–≤–µ—Ä—Ö!";
                            entry = lastPrice * 1.02;
                            stopLoss = lastPrice * 0.98;
                        } else if (pattern === "–ì–æ–ª–æ–≤–∞ –∏ –ø–ª–µ—á–∏") {
                            signal = "üìâ –ì–æ–ª–æ–≤–∞ –∏ –ø–ª–µ—á–∏! –ì–æ—Ç–æ–≤–∏–º—Å—è –∫ —à–æ—Ä—Ç—É!";
                            entry = lastPrice * 0.98;
                            stopLoss = lastPrice * 1.02;
                        } else if (pattern === "–ö–ª–∏–Ω") {
                            signal = "üî™ –ö–ª–∏–Ω —Å–∂–∏–º–∞–µ—Ç—Å—è, —Å–∫–æ—Ä–æ –ø—Ä–æ–±–æ–π!";
                            entry = lastPrice * 1.01;
                            stopLoss = lastPrice * 0.99;
                        } else if (pattern === "–î–≤–æ–π–Ω–æ–µ –¥–Ω–æ") {
                            signal = "üõë –î–≤–æ–π–Ω–æ–µ –¥–Ω–æ! –ì–æ—Ç–æ–≤–∏–º—Å—è –∫ —Ä–æ—Å—Ç—É!";
                            entry = lastPrice * 1.02;
                            stopLoss = lastPrice * 0.98;
                        }

                        takeProfit1 = entry * 1.02;
                        takeProfit2 = entry * 1.04;
                        takeProfit3 = entry * 1.06;
                    }

                    document.getElementById("analysis-content").innerHTML = `
                        <strong>–°–∏–≥–Ω–∞–ª:</strong> ${pattern ? signal : "‚ö†Ô∏è –ù–µ—Ç —á–µ—Ç–∫–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞, –Ω–∞–±–ª—é–¥–∞–µ–º."}<br>
                        üìç –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: <strong>${entry ? `$${entry.toFixed(2)}` : "–ñ–¥–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"}</strong><br>
                        üõë –°—Ç–æ–ø-–ª–æ—Å—Å: <strong>${stopLoss ? `$${stopLoss.toFixed(2)}` : "-"}</strong><br>
                        üéØ –¢–µ–π–∫ 1: <strong>${takeProfit1 ? `$${takeProfit1.toFixed(2)}` : "-"}</strong><br>
                        üéØ –¢–µ–π–∫ 2: <strong>${takeProfit2 ? `$${takeProfit2.toFixed(2)}` : "-"}</strong><br>
                        üéØ –¢–µ–π–∫ 3: <strong>${takeProfit3 ? `$${takeProfit3.toFixed(2)}` : "-"}</strong><br>
                        <hr>
                        <strong>–ê—Ä–≥—É–º–µ–Ω—Ç—ã:</strong><br>
                        ${pattern ? `üì¢ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Ñ–∏–≥—É—Ä–∞: ${pattern}. –û–∂–∏–¥–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!` : "‚è≥ –ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ, –∂–¥–µ–º."}
                    `;
                });
        }

        function detectPattern(prices) {
            let last = prices.slice(-5);
            let max = Math.max(...last);
            let min = Math.min(...last);
            let mid = (max + min) / 2;

            if (last[4] > last[3] && last[3] > last[2] && last[2] > last[1]) return "–§–ª–∞–≥";
            if (last[4] < last[3] && last[3] < last[2] && last[2] < last[1]) return "–ì–æ–ª–æ–≤–∞ –∏ –ø–ª–µ—á–∏";
            if (last[4] > mid && last[3] < mid && last[2] > mid) return "–ö–ª–∏–Ω";
            if (last[4] > last[3] && last[3] < last[2]) return "–î–≤–æ–π–Ω–æ–µ –¥–Ω–æ";
            return null;
        }
    </script>
</body>
</html>
