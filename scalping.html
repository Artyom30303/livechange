<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scalping Terminal</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://s3.tradingview.com/tv.js"></script>
</head>
<body>
    <div class="header">
        <nav>
            <button>–î–∞—à–±–æ—Ä–¥</button>
            <button>–°–∫–∞–ª—å–ø–∏–Ω–≥</button>
            <button>–ò–Ω—Ç—Ä–∞–¥–µ–π</button>
            <button>–°–≤–∏–Ω–≥-—Ç—Ä–µ–π–¥–∏–Ω–≥</button>
            <button>–ü–æ–∑–∏—Ü–∏–æ–Ω–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è</button>
            <button>–°–ø–æ—Ç</button>
        </nav>
    </div>
    
    <div class="main-container">
        <div class="chart-container">
            <h2>–°–∫–∞–ª—å–ø–∏–Ω–≥: <span id="current-pair">BTCUSDT</span></h2>
            <input type="text" id="search-coin" placeholder="–ü–æ–∏—Å–∫ –º–æ–Ω–µ—Ç—ã...">
            <select id="coin-selector"></select>
            <div id="chart"></div>
        </div>
        
        <div class="signals-container">
            <h3>üî• Pump & Dump Club</h3>
            <div id="analysis-content">–ñ–¥—ë–º –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞...</div>
        </div>
    </div>
    
    <div class="journal">
        <h3>üìñ –ñ—É—Ä–Ω–∞–ª —Ç—Ä–µ–π–¥–µ—Ä–∞</h3>
        <div id="trade-log"></div>
    </div>
    
    <script>
        const coins = ["BTCUSDT", "ETHUSDT", "BNBUSDT", "XRPUSDT", "IOTAUSDT"];
        
        $(document).ready(function() {
            let coinSelector = $('#coin-selector');
            coins.forEach(coin => {
                coinSelector.append(`<option value="${coin}">${coin}</option>`);
            });
            
            $('#coin-selector').on('change', function() {
                let selectedCoin = $(this).val();
                $('#current-pair').text(selectedCoin);
                loadChart(selectedCoin);
                analyzeMarket(selectedCoin);
            });
        });
        
        function loadChart(symbol) {
            new TradingView.widget({
                "container_id": "chart",
                "symbol": `BINANCE:${symbol}`,
                "interval": "30",
                "theme": "light",
                "style": "1",
                "timezone": "Etc/UTC",
                "withdateranges": true,
                "hide_side_toolbar": false,
                "allow_symbol_change": true,
                "details": false,
                "studies": ["Volume@tv-basicstudies"],
                "hideideas": true
            });
        }
        
        function analyzeMarket(symbol) {
            fetch(`https://api.binance.com/api/v3/klines?symbol=${symbol}&interval=30m&limit=50`)
                .then(res => res.json())
                .then(candles => {
                    let prices = candles.map(c => parseFloat(c[4]));
                    let lastPrice = prices[prices.length - 1];
                    let signal = detectSignal(prices);
                    
                    let analysisContent = `
                        <strong>–°–∏–≥–Ω–∞–ª:</strong> ${signal.type} <br>
                        üìç –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: <strong>$${signal.entry.toFixed(2)}</strong> <br>
                        ‚õî –°—Ç–æ–ø-–ª–æ—Å—Å: <strong>$${signal.stopLoss.toFixed(2)}</strong> <br>
                        üéØ –¢–µ–π–∫ 1: <strong>$${signal.tp1.toFixed(2)}</strong> <br>
                        üéØ –¢–µ–π–∫ 2: <strong>$${signal.tp2.toFixed(2)}</strong> <br>
                        üéØ –¢–µ–π–∫ 3: <strong>$${signal.tp3.toFixed(2)}</strong> <br>
                        <strong>üì¢ –ê—Ä–≥—É–º–µ–Ω—Ç—ã:</strong> ${signal.comment}
                    `;
                    
                    $('#analysis-content').html(analysisContent);
                })
                .catch(err => {
                    $('#analysis-content').html("‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞");
                });
        }
        
        function detectSignal(prices) {
            let lastPrice = prices[prices.length - 1];
            let trend = prices.slice(-10).reduce((a, b) => a + b) / 10;
            
            if (lastPrice > trend * 1.01) {
                return {
                    type: "üìà –ì–æ—Ç–æ–≤–∏–º—Å—è –∫ –ª–æ–Ω–≥—É!",
                    entry: lastPrice * 1.01,
                    stopLoss: lastPrice * 0.98,
                    tp1: lastPrice * 1.02,
                    tp2: lastPrice * 1.04,
                    tp3: lastPrice * 1.06,
                    comment: "–§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥, –∂–¥—ë–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è."
                };
            } else if (lastPrice < trend * 0.99) {
                return {
                    type: "üìâ –ì–æ—Ç–æ–≤–∏–º—Å—è –∫ —à–æ—Ä—Ç—É!",
                    entry: lastPrice * 0.99,
                    stopLoss: lastPrice * 1.02,
                    tp1: lastPrice * 0.98,
                    tp2: lastPrice * 0.96,
                    tp3: lastPrice * 0.94,
                    comment: "–§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –º–µ–¥–≤–µ–∂–∏–π —Ç—Ä–µ–Ω–¥, –∂–¥—ë–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è."
                };
            } else {
                return {
                    type: "‚è≥ –ñ–¥—ë–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è",
                    entry: lastPrice,
                    stopLoss: lastPrice * 0.95,
                    tp1: lastPrice * 1.02,
                    tp2: lastPrice * 1.04,
                    tp3: lastPrice * 1.06,
                    comment: "–†—ã–Ω–æ–∫ –ø–æ–∫–∞ –±–µ–∑ —è–≤–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞, –Ω–∞–±–ª—é–¥–∞–µ–º –∑–∞ —Ü–µ–Ω–æ–π."
                };
            }
        }
    </script>
</body>
</html>
